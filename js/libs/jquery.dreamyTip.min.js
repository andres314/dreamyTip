/**
 * jQuery DreamyLiteBox Plugin
 * Version: 3.5.1
 * URL: https://github.com/andres314/dreamyTip
 * Descripton: a simple and lovely jQuery tooltip
 * Requires: jQuery
 * Author: Andres (dreamsiteweb.com)
 *   gplus.to/andres_314
 *   bit.ly/apiLinkedin
 *   twitter.com/andres_314
 *   github.com/andres314
 *
 * Copyright: Copyright (c) 2012 Andres Pi
 * License: MIT
 *
 * Usage:
 *
 *   // Init element with dreamyTip, using the default options.
 *   $(selector).dreamyTip();
 *
 *   // Init element with dreamyTip, overriding some default options.
 *   $(selector).dreamyTip({option1:true, option2:'foo'});
 *
 *   // Un-init a previous init of dreamyLiteBox on an element.
 *   $(selector).dreamyTip('destroy');
 *
 *   // Call a public method .
 *   $(selector).dreamyTip('close');
 *
 *  Options:
 *      cursor: 'pointer', // pointer, help, default, etc. Add style cursor on the target
 *      textAlign: 'center', // center, left, right, justify
 *      offsetLeftAdd: 0, // add extra left offset
 *      offsetTopAdd: 0, // add extra top offset
 *      backgroundPosition: false, // String to set a different background position (ex. "30px", "5% 10px", "left top")
 *      fade:  0.9, // opacity of the tooltip
 *      startDelay: 0, // Add a delay time before the tooltip appear
 *      removeQueuedAnimation: false, //A Boolean indicating whether to remove queued animation as well on the show event.
 *      duration: 'medium', // duration of the animation
 *      easing: 'swing', //effect
 *      event:'click', // click, focus, load, blur & hover are allowed or none in case you want to trigger manually
 *      persistHover: false, // enable a tooltip to persist until the user clicks somewhere else on the page
 *      closeButton: true, //True for the "x" button in the tooltip
 *      closeButtonOnHover: false, //Force close button on hover
 *      closeWithClick:false, //True to close when you click the tooltip
 *      closeOnBlur:false, //True to close when the trigger element lose focus
 *      autoCloseAfter: false, // milliseconds to wait to auto close
 *      position:'top', // top, right, left, bottom
 *      fontSize: false, // Set a different font-size than the default on CSS
 *      msg:false, // String with the message
 *      size: 'default', // Set the size of the tooltip: 'default' or 'large'.
 *      color: 'default',
 *      callbackOnShow: function(){}, // Callback for appear function. Could be the name of the function or if you need pass params an object like this: {f:writeSomething,params:'callbackOnShow: the tooltip appear'}}
 *      callbackOnHide: function(){} // Callback for disappear function. Could be the name of the function or if you need pass params an object like this: {f:writeSomething,params:'callbackOnShow: the tooltip appear'}}
 */

(function(e){var b="dreamyTip",q=function(a,b,c){return"bottom"==b?c+a.height():"left"==b||"right"==b?c+a.outerHeight()/2-a.dreamyTipElememt.outerHeight()/2:c-a.dreamyTipElememt.outerHeight()},r=function(a,b,c){switch(b){case "left":a=Math.abs(c-a.dreamyTipElememt.outerWidth())-5;break;case "right":a=Math.abs(c+a.outerWidth())+5;break;default:a=Math.abs(c+a.outerWidth()/2-a.dreamyTipElememt.outerWidth()/2)}return a},n=function(a,e,c){var d=a.data(b).opts,f=a.offset();a._isOpen=!0;a.dreamyTipElememt.children(".dreamyTipInner").html(a.data("dtMsg"));
a.data("timedelay")&&(d.startDelay=a.data("timedelay"),d.removeQueuedAnimation=!0);setTimeout(function(){var b=-1<["load","blur"].indexOf(d.event);if(a.is(":hover")||b||e||"click"==c.type)a.dreamyTipElememt.css({top:q(a,d.position,f.top+d.offsetTopAdd),left:r(a,d.position,f.left+d.offsetLeftAdd),zIndex:1E4,display:"block"}).stop(d.removeQueuedAnimation).animate({opacity:d.fade},d.duration,d.easing),"object"==typeof d.callbackOnShow?d.callbackOnShow.f(d.callbackOnShow.params):d.callbackOnShow(),d.autoCloseAfter&&
setTimeout(function(){a._isOpen&&k(a)},d.autoCloseAfter)},d.startDelay)},k=function(a){a.data.that&&(a=a.data.that);if("undefined"!=typeof a.data(b)){e("html").off("."+b+a.data(b).id);var g=a.data(b).opts;a._isOpen=!1;a.dreamyTipElememt.animate({opacity:0},g.duration,g.easing,function(){e(this).css({zIndex:0,display:"none"});"object"==typeof g.callbackOnHide?g.callbackOnHide.f(g.callbackOnHide.params):g.callbackOnHide()})}},p=function(a,e){var c=a.data(b).opts;a._isOpen?c.persistHover||k(a):""!=a.data("dtMsg")&&
n(a,0,e)},l=function(a){var g=a.data(b).id,c=a.data(b).opts;c.closeButton&&("hover"!=c.event||c.closeButtonOnHover)?(e("body").append('<div class="dreamyTip dt-'+c.position+" dt-"+c.size+" dt-"+c.color+'" id="'+b+g+'"><div class="dreamyTipBtn">x</div><div class="dreamyTipInner" style="text-align:'+c.textAlign+'"></div><div class="dreamyTipArrow"></div></div>'),e("#dreamyTip"+g+" .dreamyTipBtn").on("click",function(){k(a)})):e("body").append('<div class="dreamyTip dt-'+c.position+" dt-"+c.size+'" id="'+
b+g+'"><div class="dreamyTipInner" style="text-align:'+c.textAlign+'"></div><div class="dreamyTipArrow"></div></div>');a.dreamyTipElememt=e("#"+b+g);if(c.closeWithClick)a.dreamyTipElememt.on("click",function(){k(a)});c.fontSize&&a.dreamyTipElememt.css("font-size",c.fontSize);c.backgroundPosition&&a.dreamyTipElememt.css("background-position",c.backgroundPosition)},m={init:function(a){return this.each(function(g){function c(a){var c=a.data(b),d=c.id,f="blur"==c.opts.event;if(f)var g=0;var h=function(){a.dreamyTipElememt=
e("#"+b+d);k(a)};e("html").on("click."+b+d,function(b){f?0<g?h():g++:e(b.target).is(a)||h()})}var d=e.extend({},e.fn[b].defaults,a),f=e(this);f.dreamyTipElememt=!1;f.css("cursor",d.cursor);var h=f.attr("title");void 0!=h?f.removeAttr("title"):h="";d.msg&&(h=d.msg);f.data("dtMsg",h);f.data(b)||f.data(b,{opts:d,id:(new Date).getTime()+g});if("load"==d.event)f.dreamyTipElememt||l(f),p(f),c(f);else f.on(d.event+"."+b,function(a){f.dreamyTipElememt||l(f);p(f,a);c(f)});if(d.closeOnBlur)f.on("blur."+b,function(){k(f)});
f.on("click."+b,function(a){"click"==d.event&&a.stopPropagation()});e("html").on("click."+b,".dreamyTip",function(a){a.stopPropagation()})})},destroy:function(){return this.each(function(){var a=e(this),g=a.data(b);"undefined"!=typeof g&&(e(this).off("."+b),e("#"+b+g.id).remove(),a.removeData(b))})},show:function(){return this.each(function(){var a=e(this);a.data(b);"undefined"!=a.dreamyTipElememt&&l(a);""!=a.data("dtMsg")&&n(a,1)})},close:function(){return this.each(function(){var a=e(this),g=a.data(b);
a.dreamyTipElememt=e("#"+b+g.id);k(a)})}};e.fn[b]=function(a){if(m[a])return m[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)e.error("Method "+a+" does not exist on jQuery.dreamyTip");else return m.init.apply(this,arguments)};e.fn[b].defaults={cursor:"pointer",textAlign:"center",offsetLeftAdd:0,offsetTopAdd:0,backgroundPosition:!1,fade:0.9,startDelay:0,removeQueuedAnimation:!1,duration:"medium",easing:"swing",event:"click",persistHover:!1,closeButton:!0,closeButtonOnHover:!1,
closeWithClick:!1,closeOnBlur:!1,autoCloseAfter:!1,position:"top",fontSize:!1,msg:!1,size:"default",color:"default",callbackOnShow:function(){},callbackOnHide:function(){}}})(jQuery);