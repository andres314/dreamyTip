/*
* DreamyTip v2.0 - jQuery tooltip widget
* 2012 Andres Pi
*
* andres(at)dreamsiteweb.com
* http://labs.dreamsiteweb.com
* 
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html 
*
* The usage is similar to any Pluing jQuery.
* The only settings in the HTML is the title attribute
* in the tag that will have the tooltip, which will
* contain the text to display. 
* You should include this file, dreamytip.css, dreamytip.png and the 
* jquery.ba-outside-events.min.js plugin by Ben Alman for the events
* outside the tooltip(for more info 
* about this plugin check this site http://bit.ly/gCHiHT). 
*
*/
(function(d){d.fn.dreamyTip=function(g){var a=d.extend({},d.fn.dreamyTip.defaults,g);a.insertCSS&&d("head").append('<link rel="stylesheet" href="css/dreamytip.css" type="text/css" />');return this.each(function(){var c=d(this);a.addCursorPointer&&c.css("cursor","pointer");var e;c.attr("dtMsg",c.attr("title"));c.removeAttr("title");var g=function(b){var d;return d=0>d||"bottom"==a.position?b+c.height():"left"==a.position||"right"==a.position?b+c.outerHeight()/2-e.outerHeight()/2:b-e.outerHeight()},
j=function(b){switch(a.position){case "left":b=Math.abs(b-e.outerWidth())-5;break;case "right":b=Math.abs(b+Math.abs(c.outerWidth()-e.outerWidth()))+5;break;default:b=Math.abs(b+c.outerWidth()/2-e.outerWidth()/2)}return b},h=function(){c._isOpen=!0;var b=c.offset();e.children(".dreamyTipInner").text(c.attr("dtMsg"));e.css({top:g(b.top+a.offsetTopAdd),left:j(b.left+a.offsetLeftAdd),zIndex:1E4,display:"block"}).stop().animate({opacity:a.fade},a.duration,a.easing,function(){a.callbackOnShow();e.bind("clickoutside",
f)})},f=function(){c._isOpen=!1;e.animate({opacity:0},a.duration,a.easing,function(){d(this).css({zIndex:0,display:"none"});a.callbackOnHide();e.unbind("clickoutside",f)})},i=function(){var b=(new Date).getTime();a.closeButton?(d("body").append('<div class="dreamyTip dt-'+a.position+'" id="dreamyTip'+b+'"><div class="dreamyTipBtn">x</div><div class="dreamyTipInner"></div></div>'),d("#dreamyTip"+b+" .dreamyTipBtn").bind("click",function(){f()})):d("body").append('<div class="dreamyTip dt-'+a.position+
'" id="dreamyTip'+b+'"><div class="dreamyTipInner"></div></div>');e=d("#dreamyTip"+b);a.closeWithClick&&e.bind("click",function(){f()})};"hover"==a.event?c.hover(function(){e||i();h()},function(){f()}):c.click(function(){e||i();c._isOpen?f():h()})})};d.fn.dreamyTip.defaults={addCursorPointer:!0,offsetLeftAdd:0,offsetTopAdd:0,fade:0.9,duration:"medium",easing:"swing",event:"click",closeButton:!0,closeWithClick:!1,position:"top",insertCSS:!1,callbackOnShow:function(){},callbackOnHide:function(){}}})(jQuery);